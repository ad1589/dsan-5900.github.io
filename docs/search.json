[
  {
    "objectID": "index.html#geographic",
    "href": "index.html#geographic",
    "title": "Student Internship Admissions",
    "section": "Geographic",
    "text": "Geographic\nTo provide an overview of the data, we will be looking at the data from a geographic perspective, specifically at the state level.\n\nFeatures by State\n\n\nCode\ncustom_palette = ['#00072D', '#0A2472', '#0E6BA8', '#A6E1FA', '#99ABC5', '#8B748F', '#6F0624']\n\n\n\n\nCode\n#calculate averages of all numeric columns\nnum_cols = df[['State', 'GPA', 'WorkExp', 'TestScore', 'WritingScore', 'VolunteerLevel']]\navg_df = num_cols.groupby('State').mean().reset_index()\nstate_abbr = {\n    'Alabama': 'AL',\n    'California': 'CA',\n    'Colorado': 'CO',\n    'Florida': 'FL',\n    'Georgia': 'GA',\n    'Mississippi': 'MS',\n    'New York': 'NY',\n    'Oregon': 'OR',\n    'Utah': 'UT',\n    'Vermont': 'VT',\n    'Virginia': 'VA'\n\n}\navg_df['State_Abbr'] = avg_df['State'].map(state_abbr)\navg_df = avg_df.drop(columns=['State'])\navg_df = avg_df.rename(columns={'State_Abbr': 'State'})\n\n\n\n\nCode\nimport plotly.io as pio\npio.renderers.default = \"plotly_mimetype+notebook\"\n\nfig = px.choropleth(avg_df, locationmode=\"USA-states\", \n                    locations=avg_df['State'], \n                    scope=\"usa\",\n                    color=avg_df['GPA'],\n                    hover_data={\"State\": True, \"GPA\": True},  \n                    labels={\"GPA\": \"Selected Variable\"},\n                    color_continuous_scale=custom_palette\n                )\n\ndropdown = []\nfor col in avg_df.columns[:-1]:\n    dropdown.append({'label': col, 'method': 'update', 'args': [{'z': [avg_df[col]]}]})\n\nfig.update_layout(updatemenus=[{'buttons': dropdown, 'direction': 'down', 'showactive': True}],\n                  title='Choropleth Map of Average Selected Variable')\nfig.update_coloraxes(colorbar_title=dict(text='Selected Variable'))\n\nfig.show()\n\n\n\n                                                \n\n\nAbove is a choropleth map of the average numeric feature (GPA, test score, writing score, work experience in years, and volunteer level) by state. The average of the numeric features is calculated across all decision types to obtain a holistic view of the student data by state. Below we will summarize some findings for each feature:\n\n\n\n\n\n\n\n\nGPA\nTest Score\nWriting Score\n\n\n\n\nCalifornia has the highest average GPA, with Florida and New York close behind.\nCalifornia has the highest average test score.\nCalifornia has the highest average writing score.\n\n\nOregon and Mississippi have the lowest average GPA.\nMississippi has the lowest average test score.\nNew York has the lowest average writing score.\n\n\nWork Experience\nVolunteer Level\n\n\n\nMississippi has the highest average work experience in years.\nOregon has the highest average volunteer level.\n\n\n\nOregon has the lowest average work experience.\nAlabama has the lowest average volunteer level.\n\n\n\n\nWe can also look at some of these features at the geographic level by decision.\n\n\nCode\nadmit = df[df['Decision'] == 'Admit']\nnum_cols = admit[['State', 'GPA', 'WorkExp', 'TestScore', 'WritingScore', 'VolunteerLevel']]\navg_admit = num_cols.groupby('State').mean().reset_index()\navg_admit['State_Abbr'] = avg_admit['State'].map(state_abbr)\n\ndecline = df[df['Decision'] == 'Decline']\nnum_cols = decline[['State', 'GPA', 'WorkExp', 'TestScore', 'WritingScore', 'VolunteerLevel']]\navg_decline = num_cols.groupby('State').mean().reset_index()\navg_decline['State_Abbr'] = avg_decline['State'].map(state_abbr)\n\n\n\n\nCode\nimport altair as alt\nfrom vega_datasets import data\n\nstate_id_dict = dict(zip(data.population_engineers_hurricanes()[\"state\"], data.population_engineers_hurricanes()[\"id\"]))\navg_admit[\"StateID\"] = avg_admit[\"State\"].map(state_id_dict)\navg_decline[\"StateID\"] = avg_decline[\"State\"].map(state_id_dict)\n\nstates = alt.topo_feature('https://raw.githubusercontent.com/vega/vega-datasets/master/data/us-10m.json', 'states')\nclick = alt.selection_multi(fields = [\"State\"])\n\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"GPA:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"GPA:Q\"],\n    opacity = alt.condition('isValid(datum.GPA)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(avg_admit, \"StateID\", list(avg_admit.columns))\n).properties(width = 333, height = 200, title=\"Average Admitted GPA by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.GPA)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\nadmit_gpa = existing_states + missing_states\nadmit_gpa = admit_gpa.encode(\n    tooltip= [\"State:N\", \"GPA:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(avg_admit, \"StateID\", list(avg_admit.columns))\n    ).interactive()\n\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"GPA:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"GPA:Q\"],\n    opacity = alt.condition('isValid(datum.GPA)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(avg_decline, \"StateID\", list(avg_decline.columns))\n).properties(width = 333, height = 200, title=\"Average Declined GPA by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.GPA)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\ndecline_gpa = existing_states + missing_states\ndecline_gpa = decline_gpa.encode(\n    tooltip= [\"State:N\", \"GPA:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(avg_decline, \"StateID\", list(avg_decline.columns))\n    ).interactive()\n\nadmit_gpa | decline_gpa\n\n\n\n\n\n\n\n\n\n\nCode\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"TestScore:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"TestScore:Q\"],\n    opacity = alt.condition('isValid(datum.TestScore)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(avg_admit, \"StateID\", list(avg_admit.columns))\n).properties(width = 333, height = 200, title=\"Average Admitted Test Score by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.TestScore)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\nadmit_test = existing_states + missing_states\nadmit_test = admit_test.encode(\n    tooltip= [\"State:N\", \"TestScore:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(avg_admit, \"StateID\", list(avg_admit.columns))\n    ).interactive()\n\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"TestScore:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"TestScore:Q\"],\n    opacity = alt.condition('isValid(datum.TestScore)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(avg_decline, \"StateID\", list(avg_decline.columns))\n).properties(width = 333, height = 200, title=\"Average Declined Test Score by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.TestScore)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\ndecline_test = existing_states + missing_states\ndecline_test = decline_test.encode(\n    tooltip= [\"State:N\", \"TestScore:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(avg_decline, \"StateID\", list(avg_decline.columns))\n    ).interactive()\n\nadmit_test | decline_test\n\n\n\n\n\n\n\n\nAs we can see from the average GPA and test scores for admitted and declined students by state, students who were admitted had higher GPAs and test scores than those who were declined.\nThis insight can help us to improve students’ test scores so as to increase their chances of being admitted to an internship.\n\n\nDecision Rates by State\nWe can also see the rates of students admitted and declined from internships by state to see overall how successful are the students from the selected states.\n\n\nCode\n#create dataframe of rates for each state by decision\ndecision_state = df.groupby(['Decision', 'State'])[[\"GPA\"]].count().reset_index()\ndecision_state = decision_state.rename(columns={'GPA':'StateCount'})\ndecision_state['DecisionCount'] = decision_state.groupby('Decision')['StateCount'].transform('sum')\ndecision_state['Rate'] = decision_state['StateCount'] / decision_state['DecisionCount'] * 100\n\nstate_id_dict = dict(zip(data.population_engineers_hurricanes()[\"state\"], data.population_engineers_hurricanes()[\"id\"]))\ndecision_state[\"StateID\"] = decision_state[\"State\"].map(state_id_dict)\n\nadmit_states = decision_state[decision_state['Decision'] == \"Admit\"]\ndecline_states = decision_state[decision_state['Decision'] == \"Decline\"]\n\n\n\n\nCode\nstates = alt.topo_feature('https://raw.githubusercontent.com/vega/vega-datasets/master/data/us-10m.json', 'states')\nclick = alt.selection_multi(fields = [\"State\"])\n\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"Rate:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"Rate:Q\"],\n    opacity = alt.condition('isValid(datum.Rate)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(admit_states, \"StateID\", list(admit_states.columns))\n).properties(width = 333, height = 200, title=\"Admission Rates by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.Rate)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\nadmit_map = existing_states + missing_states\nadmit_map = admit_map.encode(\n    tooltip= [\"State:N\", \"Rate:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(admit_states, \"StateID\", list(admit_states.columns))\n    ).interactive()\n\nexisting_states = alt.Chart(states).mark_geoshape(stroke='black').encode(\n    color = alt.Color(\"Rate:Q\", scale=alt.Scale(range=custom_palette)),\n    tooltip = [\"State:N\", \"Rate:Q\"],\n    opacity = alt.condition('isValid(datum.Rate)', alt.value(1), alt.value(0.2)),\n).transform_lookup(\n    lookup = \"id\",\n    from_ = alt.LookupData(decline_states, \"StateID\", list(decline_states.columns))\n).properties(width = 333, height = 200, title=\"Rejection Rates by State\").add_selection(click).project(type = \"albersUsa\").interactive()\n\nmissing_states = (\n    alt.Chart(states)\n    .mark_geoshape(fill = \"grey\", stroke = \"white\")\n    .encode(opacity=alt.condition(\"isValid(datum.Rate)\", alt.value(0), alt.value(0.2))).add_selection(click).project(type = \"albersUsa\")\n    )\n\ndecline_map = existing_states + missing_states\ndecline_map = decline_map.encode(\n    tooltip= [\"State:N\", \"Rate:Q\"]\n    ).transform_lookup(\n        lookup=\"id\",\n        from_=alt.LookupData(decline_states, \"StateID\", list(decline_states.columns))\n    ).interactive()\n\nadmit_map | decline_map\n\n\n\n\n\n\n\n\nAbove are the maps of the rates of the students admitted by state and the rates of the students declined by state. Some findings from the maps are:\n\nFlorida had the highest rate of admitted students.\nUtah had the lowest rate of admitted students.\nFlorida also has the highest rate of rejected students.\nCalifornia, Oregon, and Mississippi all have the lowest rate of rejected students.\n\nThere isn’t a clear relationship between admissions and rejections by state, which means that the state a student is from is not pivotal in the decision of their internship application.\nNOTE: UTAH ONLY HAS ONE RECORD"
  },
  {
    "objectID": "index.html#gender",
    "href": "index.html#gender",
    "title": "Student Internship Admissions",
    "section": "Gender",
    "text": "Gender"
  },
  {
    "objectID": "index.html#xgboost-and-shapley",
    "href": "index.html#xgboost-and-shapley",
    "title": "Student Internship Admissions",
    "section": "XGBoost and Shapley",
    "text": "XGBoost and Shapley"
  }
]